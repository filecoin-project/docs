<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Venus: Multisig wallet | Venus Filecoin</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/assets/icon-coin-128.png">
    <meta name="description" content="Venus是完全兼容Filecoin分布式存储网络的一个go版本代码实现">
    
    <link rel="preload" href="/assets/css/0.styles.4822e3fa.css" as="style"><link rel="preload" href="/assets/js/app.801e23e5.js" as="script"><link rel="preload" href="/assets/js/2.5cabdf51.js" as="script"><link rel="preload" href="/assets/js/44.19802f69.js" as="script"><link rel="prefetch" href="/assets/js/10.90aa1571.js"><link rel="prefetch" href="/assets/js/11.3f5f58cc.js"><link rel="prefetch" href="/assets/js/12.18688103.js"><link rel="prefetch" href="/assets/js/13.d91d9f7d.js"><link rel="prefetch" href="/assets/js/14.e9fddebc.js"><link rel="prefetch" href="/assets/js/15.2a3c0d82.js"><link rel="prefetch" href="/assets/js/16.0a95bcda.js"><link rel="prefetch" href="/assets/js/17.12b64b1a.js"><link rel="prefetch" href="/assets/js/18.17622172.js"><link rel="prefetch" href="/assets/js/19.b5ddc60d.js"><link rel="prefetch" href="/assets/js/20.ac821067.js"><link rel="prefetch" href="/assets/js/21.385e37df.js"><link rel="prefetch" href="/assets/js/22.a1e08b71.js"><link rel="prefetch" href="/assets/js/23.56184638.js"><link rel="prefetch" href="/assets/js/24.6dc7142e.js"><link rel="prefetch" href="/assets/js/25.1d009804.js"><link rel="prefetch" href="/assets/js/26.9a4f51c8.js"><link rel="prefetch" href="/assets/js/27.641a36ed.js"><link rel="prefetch" href="/assets/js/28.a82f4b25.js"><link rel="prefetch" href="/assets/js/29.17586047.js"><link rel="prefetch" href="/assets/js/3.00eb2a42.js"><link rel="prefetch" href="/assets/js/30.1ec58843.js"><link rel="prefetch" href="/assets/js/31.19219719.js"><link rel="prefetch" href="/assets/js/32.162c3fd5.js"><link rel="prefetch" href="/assets/js/33.96fbc047.js"><link rel="prefetch" href="/assets/js/34.e3af7086.js"><link rel="prefetch" href="/assets/js/35.3c06b354.js"><link rel="prefetch" href="/assets/js/36.219ed96f.js"><link rel="prefetch" href="/assets/js/37.202d0e15.js"><link rel="prefetch" href="/assets/js/38.fe84a12c.js"><link rel="prefetch" href="/assets/js/39.2c2d117c.js"><link rel="prefetch" href="/assets/js/4.ef876089.js"><link rel="prefetch" href="/assets/js/40.6382ead7.js"><link rel="prefetch" href="/assets/js/41.dd237838.js"><link rel="prefetch" href="/assets/js/42.8bad1b97.js"><link rel="prefetch" href="/assets/js/43.f25aa527.js"><link rel="prefetch" href="/assets/js/45.a6e5e8f6.js"><link rel="prefetch" href="/assets/js/46.66402fcb.js"><link rel="prefetch" href="/assets/js/47.e3f000f4.js"><link rel="prefetch" href="/assets/js/48.88b96457.js"><link rel="prefetch" href="/assets/js/49.f3f5c68f.js"><link rel="prefetch" href="/assets/js/5.2095c90c.js"><link rel="prefetch" href="/assets/js/50.ff51eefa.js"><link rel="prefetch" href="/assets/js/51.1ac05127.js"><link rel="prefetch" href="/assets/js/52.2814ecb8.js"><link rel="prefetch" href="/assets/js/6.9bc80e8e.js"><link rel="prefetch" href="/assets/js/7.5fc88143.js"><link rel="prefetch" href="/assets/js/8.7491b9e3.js"><link rel="prefetch" href="/assets/js/9.756ef482.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4822e3fa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><img src="/assets/filecoin-logo.svg" alt="Venus Filecoin" class="logo"> <span class="site-name can-hide">Venus Filecoin</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://docs.filecoin.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Filecoin文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/filecoin-project/venus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/Multisig-Wallet.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://docs.filecoin.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Filecoin文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/filecoin-project/venus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/Multisig-Wallet.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Venus Filecoin Tutorial</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/Home.html" class="sidebar-link">Overview</a></li><li><a href="/zh/Venus-Worker.html" class="sidebar-link">Venus Worker</a></li><li><a href="/zh/Commands.html" class="sidebar-link">CLI commands</a></li><li><a href="/zh/Getting-Started.html" class="sidebar-link">Getting started</a></li><li><a href="/zh/How-To-Connect-Network.html" class="sidebar-link">How to start network</a></li><li><a href="/zh/How-To-Setup_2knet.html" class="sidebar-link">How to start a local network</a></li><li><a href="/zh/How-To-Deploy-MingPool.html" class="sidebar-link">How to deploy mingPool</a></li><li><a href="/zh/How-To-Use-Wallet.html" class="sidebar-link">How to use wallet</a></li><li><a href="/zh/Multisig-Wallet.html" aria-current="page" class="active sidebar-link">Multisig wallet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/Multisig-Wallet.html#venus-multisig-wallet" class="sidebar-link">Venus: Multisig wallet</a></li><li class="sidebar-sub-header"><a href="/zh/Multisig-Wallet.html#cli范例" class="sidebar-link">CLI范例</a></li></ul></li><li><a href="/zh/Remote-Wallet.html" class="sidebar-link">Remote wallet</a></li><li><a href="/zh/Payment-Channel.html" class="sidebar-link">Payment channel</a></li><li><a href="/zh/Troubleshooting-&amp;-FAQ.html" class="sidebar-link">Troubleshooting &amp; FAQ</a></li><li><a href="/zh/How-To-Contribute-Docs.html" class="sidebar-link">Welcome to Contributing</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resources</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="venus-multisig-wallet"><a href="#venus-multisig-wallet" class="header-anchor">#</a> Venus: Multisig wallet</h2> <p>多签（multi-signature）钱包是指需要多个密钥来授权一个FIL交易的钱包。它适用于多方共管一笔FIL，设置一定的赞成比阙值完成message的签发。</p> <h2 id="cli范例"><a href="#cli范例" class="header-anchor">#</a> CLI范例</h2> <ul><li>以下示范为了方便阅读都将使用“t0”地址，实际上也支持“t3”地址操作。</li> <li>范例中包含了多签钱包所有的CLI操作方式，并以流程性的方式介绍如何使用多签钱包，同时概念性描述也会随着逻辑的下沉而变少，相同业务逻辑的介绍只会被详细描述一次。</li> <li>指令标签
<ul><li>&quot;[]&quot;：选填</li> <li>&quot;[--phrase]&quot; ：带描述符参数，需要&quot;--phrase&quot;指定才能使用</li> <li>&quot;&lt;phrase&gt;&quot;：占位参数，不需要指明含义，需要严格按照顺位填写</li> <li>&quot;[--]&quot;： '带描述符参数' 和 '占位参数' 的边界</li></ul></li></ul> <blockquote><p>指令标签示例：venus msig create [--phrase1=&lt;phrase1&gt;] [--] &lt;phrase2&gt; [&lt;phrase3&gt;]</p> <ol><li>phrase1: 带描述符参数，选填，如需使用，必须&quot;--phrase1=xxx&quot;指定</li> <li>phrase2: 占位参数，必填</li> <li>phrase3: 占位参数，选填</li></ol></blockquote> <h3 id="创建一个多签钱包"><a href="#创建一个多签钱包" class="header-anchor">#</a> 创建一个多签钱包</h3> <blockquote><p>./venus msig create [--required=&lt;required&gt;] [--value=&lt;value&gt;] [--duration=&lt;duration&gt;] [--from=&lt;from&gt;] [--] &lt;addresses&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus msig create --from=t01001 --required=2 --value=1000 --duration=20000 &quot;t01001,t01002,t01003&quot;

&quot;Created new multisig: t01004 &lt;multiAddress&gt;&quot;
</code></pre></div><ul><li>from: 发起钱包地址，生成create msg用，需要花费gas。创建多签钱包时，发起的钱包地址默认不加入到多签密钥之中，如需添加，需要额外指定（如以下指令中t01001出现了2次，第2次为指定该地址包含在多签钱包之中）</li> <li>required: 多签钱包签名通过的阙值。以上钱包设置为2/3，即当多签钱包包含的3个地址中，有2个钱包地址通过决议即生效。</li> <li>value: 创建钱包后直接转账的FIL数额，由from提供。</li> <li>duration: 资金解锁的时间长度，即创建后的钱包中所带的金额锁定的时间长度。</li></ul> <h3 id="查询创建的多签钱包状态"><a href="#查询创建的多签钱包状态" class="header-anchor">#</a> 查询创建的多签钱包状态</h3> <blockquote><p>./venus msig inspect [--vesting] [--decode-params] [--] &lt;address&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus msig inspect t01004 --vesting=true --decode-params=true

# 状态信息
Balance: 1000 FIL
Spendable: 3.15 FIL
InitialBalance: 1000 FIL
StartEpoch: 0
UnlockDuration: 20000
Threshold: 2 / 3
Signers:
ID      Address
t01001  &lt;t3Address1&gt;
t01002  &lt;t3Address2&gt;
t01003  &lt;t3Address3&gt;
Transactions:  0
</code></pre></div><ul><li>vesting： 默认false,为true将呈现更多信息</li> <li>decode-params：将状态中Transactions的params字段以json格式显示，默认为hex格式</li></ul> <h3 id="往多签钱包转账fil"><a href="#往多签钱包转账fil" class="header-anchor">#</a> 往多签钱包转账FIL</h3> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus send t01004 2000
</code></pre></div><blockquote><p>msg打包成功后，多签钱包将会增加2000FIL</p></blockquote> <h3 id="提议往多签钱包添加新的钱包地址"><a href="#提议往多签钱包添加新的钱包地址" class="header-anchor">#</a> 提议往多签钱包添加新的钱包地址</h3> <blockquote><p>./venus msig add-propose [--increase-threshold] [--from=&lt;from&gt;] [--] &lt;multisigAddress&gt; &lt;signer&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus msig add-propose --increase-threshold=false --from=t01001 t01004 t01005

# reponse
sent add singer proposal in message: &lt;msgCId&gt;
TxnID: 0

# 状态变化
Transactions:  1
ID      State    Approvals  To             Value   Method        Params
0       pending  1          t01004 (self)  0 FIL   AddSigner(5)  {&quot;Signer&quot;:&quot;t01005&quot;,&quot;Increase&quot;:false}
</code></pre></div><blockquote><p>往t01004多签钱包中提议新增t01005地址，且投票阙值不增加</p></blockquote> <ul><li>increase-threshold： 是否添加新地址成功后，自动增加投票阙值，默认为false</li> <li>signer：待添加的钱包地址，未包含与多签钱包中</li></ul> <h3 id="同意添加新地址提议"><a href="#同意添加新地址提议" class="header-anchor">#</a> 同意添加新地址提议</h3> <blockquote><p>./venus msig add-approve [--from=&lt;from&gt;] [--] &lt;multisigAddress&gt; &lt;proposerAddress&gt; &lt;txId&gt; &lt;newAddress&gt; &lt;increaseThreshold&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus msig add-approve --from=t01002 t01004 t01001 0 t01005 false

# reponse
&quot;sent add approval in message: &lt;msgCId&gt;&quot;

# 状态变化
Threshold: 2 / 4
Signers:
ID      Address
t01001  &lt;t3Address1&gt;
t01002  &lt;t3Address2&gt;
t01003  &lt;t3Address3&gt;
t01005  &lt;t3Address5&gt;

</code></pre></div><blockquote><p>因为之前的投票比是2/3，所以一个地址通过后，该提议将会执行，投票阙值会因为新成员的加入变为2/4</p></blockquote> <ul><li>proposerAddress: 发起者的地址</li> <li>txId: 多签地址状态中Transcations下对应的ID</li> <li>newAddress: 指定添加的新地址，必须和状态数据中的Params下对应的地址一样</li> <li>increaseThreshold: 是否影响投票阙值分母，必须与状态数据中Params下对应的Increase相同</li></ul> <h3 id="提议修改投票阙值"><a href="#提议修改投票阙值" class="header-anchor">#</a> 提议修改投票阙值</h3> <blockquote><p>./venus msig propose-threshold [&lt;multisigAddress&gt;] &lt;newM&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>.$ /venus msig propose-threshold --from=t01001 t01004 3

# reponse
sent change threshold proposal in message: &lt;msgCId&gt;
TxnID: 1

# 状态变化
Transactions:  1
ID      State    Approvals  To             Value   Method                          Params
1       pending  1          t01004 (self)  0 FIL   ChangeNumApprovalsThreshold(8)  {&quot;NewThreshold&quot;:3}
</code></pre></div><ul><li>newM： 目标阙值分母</li></ul> <h3 id="同意修改投票阙值提议-approve指令为万用同意指令"><a href="#同意修改投票阙值提议-approve指令为万用同意指令" class="header-anchor">#</a> 同意修改投票阙值提议(approve指令为万用同意指令)</h3> <blockquote><p>./venus msig approve [--from=&lt;from&gt;] [--] &lt;multisigAddress&gt; &lt;messageId&gt; [&lt;proposerAddress&gt;] [&lt;destination&gt;] [&lt;value&gt;] [&lt;methodId&gt;] [&lt;methodParams&gt;]</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus msig approve --from=t01002 t01004 1

# reponse
&quot;sent approval in message: &lt;msgCId&gt;&quot;

# 状态变化
Threshold: 3 / 4
</code></pre></div><blockquote><p>普通情况下，同意一个提议只需要使用approve指令并指定多签地址和多签地址Transactions状态中的ID即可</p></blockquote> <ul><li>multisigAddress： 操作多签地址</li> <li>messageId： propose操作返回的TxID,在inspect指令中可以查寻</li> <li>proposerAddress：提议发起者钱包地址</li> <li>destination：目标地址（如：多签地址转账给第3方地址时，该字段就是第三方地址）</li> <li>value： 转账FIL数额</li> <li>methodId：propose对应的methodNum,在inspect指令中可以查寻
<ul><li>Propose: 2</li> <li>Approve: 3</li> <li>Cancel: 4</li> <li>AddSigner: 5</li> <li>RemoveSigner: 6</li> <li>SwapSinger: 7</li> <li>ChangeNumApprovalsThreshold: 8</li> <li>LockBalance: 9</li></ul></li> <li>methodParams: 发起propose的操作参数，在inspect指令中可以查寻</li></ul> <h3 id="提议移除多签成员"><a href="#提议移除多签成员" class="header-anchor">#</a> 提议移除多签成员</h3> <blockquote><p>./venus msig propose-remove [--decrease-threshold] [--from=&lt;from&gt;] [--] &lt;multisigAddress&gt; &lt;signer&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$  ./venus msig propose-remove --from=t01001 t01004 t01005 

# response
sent remove singer in message: &lt;msgCId&gt;
TxnID: 2

# 状态变化
Threshold: 3 / 4
Signers:
ID      Address
t01001  &lt;t3Address1&gt;
t01002  &lt;t3Address2&gt;
t01003  &lt;t3Address3&gt;
t01005  &lt;t3Address5&gt;
Transactions:  1
ID      State    Approvals  To             Value   Method           Params
2       pending  1          t01004 (self)  0 FIL   RemoveSigner(6)  {&quot;Signer&quot;:&quot;t01005&quot;,&quot;Decrease&quot;:false}


# propose-remove 在 approve 之后
Threshold: 3 / 3
Signers:
ID      Address
t01001  &lt;t3Address1&gt;
t01002  &lt;t3Address2&gt;
t01003  &lt;t3Address3&gt;

</code></pre></div><h3 id="提议替换多签成员"><a href="#提议替换多签成员" class="header-anchor">#</a> 提议替换多签成员</h3> <blockquote><p>./venus msig swap-propose [--from=&lt;from&gt;] [--] &lt;multisigAddress&gt; &lt;oldAddress&gt; &lt;newAddress&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus msig swap-propose --from=t01001 t01004 t01003 t01005

# response
sent swap singer in message: &lt;msgCId&gt;
TxID: 3

# 状态变化
Threshold: 3 / 3
Signers:
ID      Address
t01001  &lt;t3Address1&gt;
t01002  &lt;t3Address2&gt;
t01003  &lt;t3Address3&gt;
Transactions:  1
ID      State    Approvals  To             Value   Method         Params
3       pending  1          t01004 (self)  0 FIL   SwapSigner(7)  {&quot;From&quot;:&quot;t01003&quot;,&quot;To&quot;:&quot;t01005&quot;}


# approve之后
Threshold: 3 / 3
Signers:
ID      Address
t01001  &lt;t3Address1&gt;
t01002  &lt;t3Address2&gt;
t01005  &lt;t3Address5&gt;
Transactions:  0

</code></pre></div><h3 id="取消多签成员地址替换提议"><a href="#取消多签成员地址替换提议" class="header-anchor">#</a> 取消多签成员地址替换提议</h3> <blockquote><p>./venus msig swap-cancel [&lt;multisigAddress&gt;] &lt;txId&gt; &lt;oldAddress&gt; &lt;newAddress&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code># 发起新的替换提议
$ ./venus msig swap-propose --from=t01001 t01004 t01005 t01003

# 状态变化
Transactions:  1
ID      State    Approvals  To             Value   Method         Params
4       pending  1          t01004 (self)  0 FIL   SwapSigner(7)  {&quot;From&quot;:&quot;t01005&quot;,&quot;To&quot;:&quot;t01003&quot;}
$ ./venus msig swap-cancel --from=t01001 t01004 4 t01005 t01003
&quot;sent swap cancellation in message: &lt;msgCId&gt;&quot;
</code></pre></div><h3 id="查询多签地址在指定间隔区块被授予的fil数"><a href="#查询多签地址在指定间隔区块被授予的fil数" class="header-anchor">#</a> 查询多签地址在指定间隔区块被授予的FIL数</h3> <blockquote><p>./venus msig vested [--start-epoch=&lt;start-epoch&gt;] [--end-epoch=&lt;end-epoch&gt;] [--] &lt;multisigAddress&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$  ./venus msig vested --from=t01001 --start-epoch=10 --end-epoch=200 t01004

# reponse
&quot;Vested: 9.5 FIL between 10 and 200&quot;
</code></pre></div><h3 id="提议冻结多签地址中的定量fil"><a href="#提议冻结多签地址中的定量fil" class="header-anchor">#</a> 提议冻结多签地址中的定量FIL</h3> <blockquote><p>./venus msig lock-propose [--from=&lt;from&gt;] [--] &lt;multisigAddress&gt; &lt;startEpoch&gt; &lt;unlockDuration&gt; &lt;amount&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus msig lock-propose --from=t01001 t01004 500 100 50

# response
sent lock balance in message: &lt;msgCId&gt;
TxnID: 1

# 状态变化
Transactions:  1
ID      State    Approvals  To             Value   Method          Params
5       pending  1          t01004 (self)  0 FIL   LockBalance(9)  {&quot;StartEpoch&quot;:1600,&quot;UnlockDuration&quot;:100,&quot;Amount&quot;:&quot;50000000000000000000&quot;}

</code></pre></div><ul><li>startEpoch：开始生效的块高</li> <li>unlockDuration：balance锁定区块跨度，startEpoch+unlockDuration后，锁定的balance将会自动解锁</li> <li>amount：目标锁定的FIL数额</li></ul> <h3 id="取消冻结提议"><a href="#取消冻结提议" class="header-anchor">#</a> 取消冻结提议</h3> <blockquote><p>./venus msig lock-cancel [--from=&lt;from&gt;] [--] &lt;multisigAddress&gt; &lt;txId&gt; &lt;startEpoch&gt; &lt;unlockDuration&gt; &lt;amount&gt;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>$ ./venus msig lock-cancel --from=t01001 t01004 5 500 100 50

### 同意冻结
$ ./venus msig lock-approve --from=t01001 t01004 t01001 5 100 50 50

# 同意后状态变化
InitialBalance: 50 FIL
</code></pre></div><ul><li>startEpoch，unlockDuration，amount需要和lock-propose的参数一样</li> <li>提议通过后，多签账户下的balance中将会把指定量的balance冻结锁定，显示为InitialBalance</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/filecoin-project/docs/edit/master/docs/zh/Multisig-Wallet.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021/4/13 下午5:25:57</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/How-To-Use-Wallet.html" class="prev">
        How to use wallet
      </a></span> <span class="next"><a href="/zh/Remote-Wallet.html">
        Remote wallet
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.801e23e5.js" defer></script><script src="/assets/js/2.5cabdf51.js" defer></script><script src="/assets/js/44.19802f69.js" defer></script>
  </body>
</html>
