(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{326:function(e,t,s){e.exports=s.p+"assets/img/lotus-cluster-1.e7035fe3.png"},327:function(e,t,s){e.exports=s.p+"assets/img/venus-replace-lotus-cluster-1.b27b1480.png"},328:function(e,t,s){e.exports=s.p+"assets/img/lotus-cluster-2.bc20ca77.png"},329:function(e,t,s){e.exports=s.p+"assets/img/venus-replace-lotus-cluster-2.28c832e6.png"},402:function(e,t,s){"use strict";s.r(t);var r=s(17),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"lotus-cluster-replaced-by-venus-cluster"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#lotus-cluster-replaced-by-venus-cluster"}},[e._v("#")]),e._v(" Lotus cluster replaced by Venus cluster")]),e._v(" "),r("h2",{attrs:{id:"introduction-of-venus-cluster-and-lotus-cluster"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#introduction-of-venus-cluster-and-lotus-cluster"}},[e._v("#")]),e._v(" Introduction of Venus cluster and lotus cluster")]),e._v(" "),r("p",[e._v("This document is based on the public version of "),r("a",{attrs:{href:"https://github.com/filecoin-project/lotus/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lotus"),r("OutboundLink")],1),e._v(" & "),r("a",{attrs:{href:"https://github.com/filecoin-project/venus/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Venus"),r("OutboundLink")],1),e._v(". Part of the content involves the miners' customization of the program, which requires targeted solutions.")]),e._v(" "),r("p",[e._v("Tips:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("<>")]),e._v("indicates the parameter to be replaced, which is replaced according to the actual situation of the miner")]),e._v(" "),r("li",[e._v("Please use git checkout to select the specific version")]),e._v(" "),r("li",[e._v("environment:\n"),r("ul",[r("li",[e._v("golang ^1.15\n"),r("ul",[r("li",[e._v("go env -w GOPROXY=https://goproxy.io,direct")]),e._v(" "),r("li",[e._v("go env -w GO111MODULE=on")])])]),e._v(" "),r("li",[e._v("git")])])])]),e._v(" "),r("h3",{attrs:{id:"moduler-of-venus-cluster"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#moduler-of-venus-cluster"}},[e._v("#")]),e._v(" Moduler of Venus cluster")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("Moduler")]),e._v(" "),r("th",[e._v("Server")]),e._v(" "),r("th",[e._v("Type")]),e._v(" "),r("th",[e._v("Do")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("venus-auth")]),e._v(" "),r("td",[e._v("<IP1>")]),e._v(" "),r("td",[e._v("Shared")]),e._v(" "),r("td",[e._v("Venus auth is used for unified authorization. When a miner's own running component accesses a shared component, it needs to use this service to register the generated token")])]),e._v(" "),r("tr",[r("td",[e._v("venus-wallet")]),e._v(" "),r("td",[e._v("<IP2>")]),e._v(" "),r("td",[e._v("Shared")]),e._v(" "),r("td",[e._v("Manage your wallet, Message signature")])]),e._v(" "),r("tr",[r("td",[e._v("venus")]),e._v(" "),r("td",[e._v("<IP3>")]),e._v(" "),r("td",[e._v("Shared")]),e._v(" "),r("td",[e._v("chain Sync")])]),e._v(" "),r("tr",[r("td",[e._v("venus-messager")]),e._v(" "),r("td",[e._v("<IP4>")]),e._v(" "),r("td",[e._v("Shared")]),e._v(" "),r("td",[e._v("Manage the message in the cluster, ensure the message on the chain, control the message flow, and try again. It can dock multiple wallets and manage messages for these wallets")])]),e._v(" "),r("tr",[r("td",[e._v("venus-miner")]),e._v(" "),r("td",[e._v("<IP5>")]),e._v(" "),r("td",[e._v("Shared")]),e._v(" "),r("td",[e._v("Package the block message; Multiple miners can be configured; It can calculate the miner's minning situation by itself, and obtain data proof through remote access to venus-sealer")])]),e._v(" "),r("tr",[r("td",[e._v("venus-sealer")]),e._v(" "),r("td",[e._v("<IP6>")]),e._v(" "),r("td",[e._v("Unshared")]),e._v(" "),r("td",[e._v("Sector FSM management; power growth scheduling; power maintenance")])]),e._v(" "),r("tr",[r("td",[e._v("venus-worker")]),e._v(" "),r("td",[e._v("<IP7>")]),e._v(" "),r("td",[e._v("Unshared")]),e._v(" "),r("td",[e._v("Data seal (execution of P1,P2,C1,C2, etc.)")])])])]),e._v(" "),r("h3",{attrs:{id:"moduler-of-lotus-cluster"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#moduler-of-lotus-cluster"}},[e._v("#")]),e._v(" Moduler of Lotus cluster")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("Moduler")]),e._v(" "),r("th",[e._v("Server")]),e._v(" "),r("th",[e._v("Type")]),e._v(" "),r("th",[e._v("Do")]),e._v(" "),r("th",[e._v("Moduler corresponding to Venus")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("lotus")]),e._v(" "),r("td",[e._v("<IP1>")]),e._v(" "),r("td",[e._v("shared")]),e._v(" "),r("td",[e._v("Chain sync; Message pool; Wallet management, data signature, etc")]),e._v(" "),r("td",[e._v("venus; Some functions of venus-messenger; Some functions of venus-wallet")])]),e._v(" "),r("tr",[r("td",[e._v("lotus-miner")]),e._v(" "),r("td",[e._v("<IP2>")]),e._v(" "),r("td",[e._v("Unshared")]),e._v(" "),r("td",[e._v("Sector FSM management; power growth scheduling; power maintenance; WinCount")]),e._v(" "),r("td",[e._v("Some functions of venus-miner; venus-sealer")])]),e._v(" "),r("tr",[r("td",[e._v("lotus-worker")]),e._v(" "),r("td",[e._v("<IP3>")]),e._v(" "),r("td",[e._v("Unshared")]),e._v(" "),r("td",[e._v("Data seal (execution of P1,P2,C1,C2, etc.)")]),e._v(" "),r("td",[e._v("venus-worker")])])])]),e._v(" "),r("p",[e._v("venus-wallet makes more refined management of wallets, such as authority management: users can specify the data types that wallets can sign, administrators can lock a wallet, restrict signatures, etc;")]),e._v(" "),r("p",[e._v("venus-message allows messages to allocate a Nonce value when sending to the message pool, specifying priority for different messages, and can better control the packed rhythm of the message.")]),e._v(" "),r("p",[e._v("venus-miner concentrates the wincount of multiple miners into one moduler, while Lotus can only be responsible for the wincount of one miner.")]),e._v(" "),r("h2",{attrs:{id:"lotus-cluster-replaced-by-venus-cluster-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#lotus-cluster-replaced-by-venus-cluster-2"}},[e._v("#")]),e._v(" Lotus cluster replaced by Venus cluster")]),e._v(" "),r("h3",{attrs:{id:"_1-explain"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-explain"}},[e._v("#")]),e._v(" 1.Explain")]),e._v(" "),r("p",[e._v("Venus has more advantages in managing multiple clusters, and its shared moduler can serve multiple clusters. If there are few clusters, it is not recommended to build a whole set of shared moduler. You can combine multiple clusters to share a set of Venus shared moduler to meet the service requirements.")]),e._v(" "),r("h3",{attrs:{id:"_2-operation"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-operation"}},[e._v("#")]),e._v(" 2.Operation")]),e._v(" "),r("h4",{attrs:{id:"_1-replacing-lotus-moduler-with-venus-shared-moduler"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-replacing-lotus-moduler-with-venus-shared-moduler"}},[e._v("#")]),e._v(" 1）Replacing Lotus moduler with Venus shared moduler")]),e._v(" "),r("p",[e._v("The shared moduler of the Venus service include: "),r("a",{attrs:{href:"https://github.com/filecoin-project/venus",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus"),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"https://github.com/ipfs-force-community/venus-messager",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-messager"),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"https://github.com/ipfs-force-community/venus-auth",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-auth"),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"https://github.com/ipfs-force-community/venus-wallet",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-wallet"),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"https://github.com/filecoin-project/venus-miner",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-miner"),r("OutboundLink")],1),e._v("，Please refer to the deployment process: "),r("RouterLink",{attrs:{to:"/How-To-Deploy-MingPool.html"}},[e._v("How-To-Deploy-MingPool")]),e._v("。")],1),e._v(" "),r("h4",{attrs:{id:"_2-replacing-lotus-moduler-with-venus-independent-moduler"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-replacing-lotus-moduler-with-venus-independent-moduler"}},[e._v("#")]),e._v(" 2）Replacing Lotus moduler with Venus independent moduler")]),e._v(" "),r("h5",{attrs:{id:"scheme-1-customized-lotus-miner-component-replacement-1-replace-the-public-version-of-lotus-miner-moduler"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#scheme-1-customized-lotus-miner-component-replacement-1-replace-the-public-version-of-lotus-miner-moduler"}},[e._v("#")]),e._v(" Scheme 1: customized lotus miner component replacement 1: Replace the public version of lotus-miner moduler")]),e._v(" "),r("ul",[r("li",[e._v("Stop generating new section seal tasks and wait for all in progress section tasks to complete;")]),e._v(" "),r("li",[e._v("Replace lotus-miner with venus-sealer and restart the service. For deployment of venus-sealer, please refer to "),r("RouterLink",{attrs:{to:"/How-To-Deploy-MingPool.html"}},[e._v("How-To-Deploy-MingPool")]),e._v("。")],1)]),e._v(" "),r("p",[e._v("Lotus cluster process before replacement\n"),r("img",{attrs:{src:s(326),alt:"lotus-cluster-1"}})]),e._v(" "),r("p",[e._v("Venus cluster process after replacement\n"),r("img",{attrs:{src:s(327),alt:"venus-replace-lotus-cluster-1"}})]),e._v(" "),r("h5",{attrs:{id:"scheme-2-customized-lotus-miner-moduler-replacement"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#scheme-2-customized-lotus-miner-moduler-replacement"}},[e._v("#")]),e._v(" Scheme 2: customized lotus-miner moduler replacement")]),e._v(" "),r("p",[e._v("Because of the fact that the miners have modified the lotus-miner code, if they want to continue to use it, they need to make the following adjustments to lotus-miner:")]),e._v(" "),r("ul",[r("li",[e._v("Don't enable winingpest program of lotus-poster, which needs to change the code;")]),e._v(" "),r("li",[e._v("The conversion of existing sector data, This needs to be developed;")]),e._v(" "),r("li",[e._v("lotus-miner connects with venus-messager, which needs to be developed;")]),e._v(" "),r("li",[e._v("Miners can develop related tools by themselves, or wait for Venus developers to launch related tools and developer documents.")])]),e._v(" "),r("p",[e._v("Lotus cluster process before replacement\n"),r("img",{attrs:{src:s(328),alt:"lotus-cluster-2"}})]),e._v(" "),r("p",[e._v("Venus cluster process after replacement\n"),r("img",{attrs:{src:s(329),alt:"venus-replace-lotus-cluster-2"}})])])}),[],!1,null,null,null);t.default=o.exports}}]);